import { Canvas, Story, Meta } from "@storybook/addon-docs";

import {
  Examples,
  Example,
  Title,
  CustomArgsTable,
  VariantRow,
  VariantsTable,
} from "@calcom/storybook/components";

import { Plus } from "../../icon";
import {
  Dropdown,
  DropdownMenuTrigger,
  DropdownMenuPortal,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
} from "./Dropdown";

<Meta title="UI/Form/Dropdown" component={Dropdown} />

<Title title="Dropdown" suffix="Brief" subtitle="Version 2.0 — Last Update: 21 Aug 2023" />

## Definition

`Dropdown` is an element that displays a menu to the user—such as a set of actions or functions.

## Structure

The `Dropdown` component can be used to display a menu to the user.

<CustomArgsTable of={Dropdown} />

### Dropdown components that have arguments:

#### DropdownMenuTrigger

<CustomArgsTable of={DropdownMenuTrigger} />

#### DropdownMenuContent

<CustomArgsTable of={DropdownMenuContent} />

#### DropdownMenuItem

<CustomArgsTable of={DropdownMenuItem} />

#### DropdownMenuSeparator

<CustomArgsTable of={DropdownMenuSeparator} />

## Examples

<Examples title="Dropdown">
  <Example title="Simple">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">Menu</button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="With Direction rtl">
    <Dropdown dir={"rtl"}>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">Menu</button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
</Examples>
<Examples title="Dropdown Trigger">
  <Example title="Simple">
    <Dropdown>
      <DropdownMenuTrigger asChild>
        <button aria-label="Customise options">Menu</button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="Icon">
    <Dropdown>
      <DropdownMenuTrigger asChild>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title=" Not as Child">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
</Examples>
<Examples title="Dropdown Menu Content">
  <Example title="Align start">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent align={"start"}>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="Align center">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent align={"center"}>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="With side offset">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent sideOffset={50}>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="With Menu Separator">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent sideOffset={50}>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
          <DropdownMenuSeparator />
          <DropdownMenuItem>New Private Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
</Examples>
<Examples title="Dropdown Menu Item/Label/Radio/Checkbox">
  <Example title="Simple Label">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuLabel>New Tab</DropdownMenuLabel>
          <DropdownMenuLabel>New Window</DropdownMenuLabel>
          <DropdownMenuLabel>New Private Window</DropdownMenuLabel>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="Label with Item">
    <Dropdown>
      <DropdownMenuTrigger>
        <button aria-label="Customise options">
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent align={"start"}>
          <DropdownMenuLabel>New</DropdownMenuLabel>
          <DropdownMenuItem>New Tab</DropdownMenuItem>
          <DropdownMenuItem>New Window</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="Radio">
    <Dropdown>
      <DropdownMenuTrigger>
        <button>
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuRadioGroup
            value="team"
            onValueChange={(event) => console.log("value has changed: ", event)}>
            <DropdownMenuRadioItem value="team">Team</DropdownMenuRadioItem>
            <DropdownMenuRadioItem value="individual">Individual</DropdownMenuRadioItem>
          </DropdownMenuRadioGroup>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
  <Example title="Checkbox">
    <Dropdown>
      <DropdownMenuTrigger>
        <button>
          <Plus />
        </button>
      </DropdownMenuTrigger>
      <DropdownMenuPortal>
        <DropdownMenuContent>
          <DropdownMenuCheckboxItem checked={true} onCheckedChange={() => console.log("checked")}>
            Show Bookmarks
          </DropdownMenuCheckboxItem>
          <DropdownMenuCheckboxItem checked={false} onCheckedChange={() => console.log("checked")}>
            Show Full URLs
          </DropdownMenuCheckboxItem>
        </DropdownMenuContent>
      </DropdownMenuPortal>
    </Dropdown>
  </Example>
</Examples>

## Dropdown Story

<Canvas>
  <Story
    name="Dropdown"
    args={{
      dir: "rtl",
      open: false,
      defaultOpen: false,
      asChild: false,
      align: "start",
    }}
    argTypes={{
      dir: {
        control: {
          type: "inline-radio",
          options: ["ltr", "rtl"],
        },
      },
      sideOffset: {
        control: {
          type: "number",
        },
      },
      align: {
        control: {
          type: "inline-radio",
          options: ["center", "start", "end"],
        },
      },
    }}>
    {({ dir, open, defaultOpen, asChild, sideOffset, align }) => (
      <VariantsTable titles={["Default"]} columnMinWidth={150}>
        <VariantRow variant="Default">
          <Dropdown dir={dir} open={open} defaultOpen={defaultOpen}>
            <DropdownMenuTrigger asChild={asChild}>
              <button>Menu</button>
            </DropdownMenuTrigger>
            <DropdownMenuPortal>
              <DropdownMenuContent align={align} sideOffset={sideOffset}>
                <DropdownMenuItem>New Tab</DropdownMenuItem>
                <DropdownMenuItem>New Window</DropdownMenuItem>
                <DropdownMenuItem>New Private Window</DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenuPortal>
          </Dropdown>
        </VariantRow>
      </VariantsTable>
    )}
  </Story>
</Canvas>
